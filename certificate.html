<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Official Diploma | Flora World Coding</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body { font-family: 'Montserrat', sans-serif; background: #111; color: #eee; padding: 40px 20px; }
        .wrapper { max-width: 1000px; margin: 0 auto; }
        .input-section { margin-bottom: 30px; background: #222; padding: 25px; border-radius: 12px; border: 1px solid #333; }
        label { display: block; margin-bottom: 10px; color: #c5a059; font-weight: bold; }
        input { 
            padding: 15px; width: 90%; max-width: 500px; 
            border-radius: 6px; border: 2px solid #c5a059; 
            background: #000; color: #fff; font-size: 1.2rem; 
            text-transform: uppercase; letter-spacing: 1px;
        }
        canvas { 
            width: 100%; height: auto; border: 2px solid #333;
            box-shadow: 0 20px 60px rgba(0,0,0,0.7); background: #fff;
        }
        .actions { margin-top: 30px; display: flex; justify-content: center; gap: 20px; }
        .btn { 
            padding: 18px 36px; border: none; border-radius: 6px; 
            font-weight: 800; cursor: pointer; transition: 0.3s; font-size: 1rem;
            text-transform: uppercase;
        }
        .btn-png { background: #c5a059; color: #1a1a1a; }
        .btn-pdf { background: #fff; color: #1a1a1a; }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.3); }
    </style>
</head>
<body>

<div class="wrapper">
    <div class="input-section">
        <label for="userName">GRADUATE FULL NAME:</label>
        <input type="text" id="userName" placeholder="e.g. ALEX SMITH" oninput="draw()">
    </div>

    <canvas id="cert" width="2000" height="1414"></canvas>

    <div class="actions">
        <button class="btn btn-png" onclick="downloadPNG()">Download Image</button>
        <button class="btn btn-pdf" onclick="downloadPDF()">Download PDF Document</button>
    </div>
</div>

<script>
    const canvas = document.getElementById('cert');
    const ctx = canvas.getContext('2d');

    // Ensure fonts load before first render
    document.fonts.ready.then(() => draw());

    function draw() {
        const name = document.getElementById('userName').value.toUpperCase() || "FLORA WORLD GRADUATE";
        const date = new Date().toLocaleDateString('en-US', { 
            year: 'numeric', month: 'long', day: 'numeric' 
        }).toUpperCase();

        // 1. Clean Background
        ctx.fillStyle = "#ffffff"; 
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // 2. The Frame
        // Thick Outer Navy
        ctx.fillStyle = "#0a0e14";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        // Inner Paper Area
        ctx.fillStyle = "#fffdfa";
        ctx.fillRect(40, 40, canvas.width - 80, canvas.height - 80);

        // Gold Decorative Lines
        ctx.strokeStyle = "#c5a059";
        ctx.lineWidth = 10;
        ctx.strokeRect(70, 70, canvas.width - 140, canvas.height - 140);
        ctx.lineWidth = 2;
        ctx.strokeRect(90, 90, canvas.width - 180, canvas.height - 180);

        ctx.textAlign = "center";
        
        // 3. Header
        ctx.fillStyle = "#1a1a1a";
        ctx.font = "700 50px 'Montserrat'";
        ctx.fillText("CERTIFICATE OF GRADUATION", 1000, 250);

        // 4. Distinction
        ctx.fillStyle = "#c5a059";
        ctx.font = "700 100px 'Cinzel'";
        ctx.fillText("PYTHON SPECIALIST", 1000, 430);

        ctx.fillStyle = "#555";
        ctx.font = "400 40px 'Montserrat'";
        ctx.fillText("THIS ACADEMIC DISTINCTION IS CONFERRED UPON", 1000, 600);

        // 5. THE NAME (Highly Readable)
        ctx.fillStyle = "#000000";
        // Dynamic Font Sizing
        let fontSize = 140;
        ctx.font = "700 " + fontSize + "px 'Cinzel'";
        while (ctx.measureText(name).width > 1500) {
            fontSize -= 5;
            ctx.font = "700 " + fontSize + "px 'Cinzel'";
        }
        
        // Add a slight letter spacing effect manually for the name
        ctx.fillText(name, 1000, 800);

        // 6. Description
        ctx.fillStyle = "#444";
        ctx.font = "400 35px 'Montserrat'";
        ctx.fillText("For the successful completion of the 25-Level Flora World curriculum,", 1000, 960);
        ctx.fillText("demonstrating proficiency in Advanced Pythonic Logic and OOP Design.", 1000, 1010);

        // 7. Footer & Brand
        ctx.strokeStyle = "#c5a059";
        ctx.lineWidth = 4;
        ctx.beginPath(); ctx.moveTo(750, 1180); ctx.lineTo(1250, 1180); ctx.stroke();
        
        ctx.fillStyle = "#1a1a1a";
        ctx.font = "700 30px 'Montserrat'";
        ctx.fillText(date, 1000, 1150);
        
        // Website URL
        ctx.fillStyle = "#c5a059";
        ctx.font = "700 40px 'Cinzel'";
        ctx.fillText("WWW.FLORA-WORLD.COM", 1000, 1260);
    }

    function downloadPNG() {
        const link = document.createElement('a');
        link.download = 'Flora-World-Diploma.png';
        link.href = canvas.toDataURL('image/png', 1.0);
        link.click();
    }

    function downloadPDF() {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF('l', 'px', [2000, 1414]);
        const imgData = canvas.toDataURL('image/jpeg', 0.95);
        doc.addImage(imgData, 'JPEG', 0, 0, 2000, 1414);
        doc.save('Flora-World-Diploma.pdf');
    }
</script>

</body>
</html>